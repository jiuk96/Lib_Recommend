{% extends 'base.html' %}

{% block scripts %}
<script>
    function regist() {
        let user_id = $("#userId").val()
        let user_pw = $("#userPw").val()
        let user_pw2 = $("#userPw2").val()
        let username = $("#username").val()
        let userphone = $("#userphone").val()
        let useremail = $("#useremail").val()

        if (user_id == '' || user_pw == '') {
            alert("아이디와 패스워드를 입력 해 주세요");
            return;
        }

        if (user_pw != user_pw2) {
            alert("비밀번호를 확인 해 주세요!")
            return;
        }

        $.ajax({
            url: '/join',
            type: 'post',
            data: {
                'username': username,
                'user_id': user_id,
                'user_pw': user_pw,
                'userphone': userphone,
                'useremail': useremail
            },
            success: function (res) {
                if (res['result'] == 'success') {
                    alert("회원가입 성공!");
                    window.location.href = '/'
                }
            }
        })
    }
</script>
{% endblock %}

{% block content %}
<h2 class="title">회원가입</h2>
<hr>
<div class="card">
    <div class="card-body">
        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">아이디</label>
            <div class="col-sm-10">
                <input type="text" id='userId' class="form-control" placeholder="아이디를 입력하세요.">
            </div>
        </div>
        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">비밀번호</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="userPw" placeholder="비밀번호를 입력하세요.">
            </div>
        </div>
        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">비밀번호 체크</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="userPw2" placeholder="비밀번호를 한번더 입력하세요.">
            </div>
        </div>
        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">이름</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="username" placeholder="이름을 입력하세요.">
            </div>
        </div>
        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">핸드폰번호</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="userphone" placeholder="핸드폰번호를 입력하세요.">
            </div>
        </div>
        <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">이메일</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="useremail" placeholder="이메일을 입력하세요.">
            </div>
        </div>
        <button class="btn btn-primary" onclick=regist()>회원가입하기</button>
        <a href="/login" class="btn btn-primary">로그인하기</a>
    </div>
</div>
<hr>

{% endblock %}